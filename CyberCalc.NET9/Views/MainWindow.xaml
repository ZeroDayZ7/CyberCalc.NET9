<Window x:Class="WPF_CALC_NET_9.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WPF_CALC_NET_9.Controls"
        mc:Ignorable="d"
        Title="Cyberpunk Calculator"
        Height="450"
        Width="380"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource WindowBackground}"
        WindowStyle="None"
        AllowsTransparency="True"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">
    <Border Background="{DynamicResource WindowBackground}"
            CornerRadius="0">
        <Border.Effect>
            <DropShadowEffect Color="Black"
                              BlurRadius="20"
                              ShadowDepth="5"
                              Opacity="0.8" />
        </Border.Effect>
        <Grid Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="25" />
                <RowDefinition Height="25" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <!-- Nagłówek -->
            <Grid Grid.Row="0"
                  Background="{DynamicResource HeaderBackground}"
                  Height="30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <!-- Lewa część (tytuł) -->
                    <ColumnDefinition Width="Auto" />
                    <!-- Prawa część (przyciski) -->
                </Grid.ColumnDefinitions>
                <!-- Tytuł -->
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Margin="5,0,0,0">
                    <TextBlock Style="{StaticResource HeaderTextStyle}">
                        <Run Text="{StaticResource AppTitle}" />
                        <Run Text="{StaticResource AppVersion}" />
                    </TextBlock>
                </StackPanel>
                <!-- Przyciski -->
                <StackPanel Grid.Column="1"
                            Orientation="Horizontal"
                            VerticalAlignment="Center">
                    <Button Content="─"
                            Style="{StaticResource HeaderButton}"
                            Command="{Binding MinimizeCommand}" />
                    <Button Content="❌"
                            Style="{StaticResource HeaderButton}"
                            Command="{Binding CloseCommand}" />
                </StackPanel>
            </Grid>
            <!-- Przyciski ustawień i informacji -->
            <StackPanel Grid.Row="1"
                        Orientation="Horizontal"
                        HorizontalAlignment="Left"
                        Margin="5,0">
                <local:HeaderButton Text="Settings"
                                    Command="{Binding ShowSettingsCommand}"
                                    Margin="0,0,5,0" />
                <local:HeaderButton Text="About"
                                    Command="{Binding ShowAboutCommand}" />
            </StackPanel>
            <!-- Główna siatka kalkulatora -->
            <Grid Grid.Row="2"
                  Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="100" />
                    <RowDefinition Height="50" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <!-- Pole historii obliczeń -->
                <Border Grid.Row="0"
                        Background="{DynamicResource WindowBackground}"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="5"
                        Margin="0,5">
                    <Border.Effect>
                        <DropShadowEffect Color="{DynamicResource CyberPrimary}"
                                          BlurRadius="8"
                                          ShadowDepth="0"
                                          Opacity="0.3" />
                    </Border.Effect>
                    <TextBox Text="{Binding HistoryText}"
                             Style="{StaticResource CyberTextBox}"
                             IsReadOnly="True"
                             VerticalScrollBarVisibility="Auto"
                             Background="{DynamicResource WindowBackground}"
                             BorderThickness="0"
                             FontSize="14"
                             TextWrapping="Wrap" />
                </Border>
                <!-- Pole wyniku/inputu -->
                <Border Grid.Row="1"
                        Background="{DynamicResource WindowBackground}"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="5"
                        Margin="0,5">
                    <Border.Effect>
                        <DropShadowEffect Color="{DynamicResource CyberPrimary}"
                                          BlurRadius="12"
                                          ShadowDepth="0"
                                          Opacity="0.6" />
                    </Border.Effect>
                    <TextBox Text="{Binding ResultText, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource CyberTextBox}"
                             IsReadOnly="True"
                             Foreground="{DynamicResource TextColor}"
                             HorizontalContentAlignment="Right"
                             VerticalContentAlignment="Center"
                             Background="{DynamicResource WindowBackground}"
                             BorderThickness="0"
                             FontSize="24"
                             FontWeight="Bold"
                             Padding="2,2,2,2" />
                </Border>
                <!-- Siatka przycisków kalkulatora -->
                <local:ButtonsControl Grid.Row="2" />
            </Grid>
        </Grid>
    </Border>
</Window>