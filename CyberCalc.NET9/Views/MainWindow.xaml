<Window x:Class="WPF_CALC_NET_9.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WPF_CALC_NET_9.Controls"
        xmlns:helpers="clr-namespace:WPF_CALC_NET_9.Helpers"
        helpers:DragBehavior.IsDraggable="True"
        mc:Ignorable="d"
        Title="Cyberpunk Calculator"
        Height="450"
        Width="380"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True">
    <Border CornerRadius="5"
            BorderThickness="1"
            BorderBrush="{DynamicResource TextColor}"
            Background="{DynamicResource WindowBackground}">
        <Grid Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <!-- Header -->
                <RowDefinition Height="Auto" />
                <!-- Settings -->
                <RowDefinition Height="*" />
                <!-- Kalkulator -->
            </Grid.RowDefinitions>
            <!-- Nagłówek -->
            <Grid Grid.Row="0"
                  Background="{DynamicResource HeaderBackground}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <!-- Tytuł -->
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Margin="5,0,0,0">
                    <TextBlock Style="{StaticResource HeaderTextStyle}">
                        <Run Text="{StaticResource AppTitle}" />
                    </TextBlock>
                </StackPanel>
                <!-- Przyciski nagłówka -->
                <UniformGrid Grid.Column="1"
                             Rows="1"
                             Columns="2">
                    <local:HeaderButton Text="─"
                                        Command="{Binding MinimizeCommand}" />
                    <local:HeaderButton Text="❌"
                                        Command="{Binding CloseCommand}" />
                </UniformGrid>
            </Grid>
            <!-- Przyciski ustawień i About -->
            <UniformGrid Grid.Row="1"
                         Rows="1"
                         Columns="2"
                         HorizontalAlignment="Left"
                         Margin="5,5,0,0">
                <local:HeaderButton Text="Settings"
                                    Command="{Binding ShowSettingsCommand}"
                                    Margin="0,0,5,0" />
                <local:HeaderButton Text="About"
                                    Command="{Binding ShowAboutCommand}" />
            </UniformGrid>
            <!-- Kalkulator -->
            <Grid Grid.Row="2"
                  Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="100" />
                    <!-- Historia -->
                    <RowDefinition Height="50" />
                    <!-- Wynik -->
                    <RowDefinition Height="*" />
                    <!-- Przyciski -->
                </Grid.RowDefinitions>
                <!-- Historia -->
                <Border Grid.Row="0"
                        Height="80">
                    <TextBox Text="{Binding HistoryText}"
                             Style="{StaticResource HistoryBox}"
                             VerticalScrollBarVisibility="Auto" />
                </Border>
                <!-- Wynik -->
                <Border Grid.Row="1">
                    <TextBox Text="{Binding ResultText, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource InputBox}" />
                </Border>
                <!-- Przyciski kalkulatora -->
                <local:ButtonsControl Grid.Row="2" />
            </Grid>
        </Grid>
    </Border>
</Window>